window.utils={options:function(e,s,t){for(var n in t=t||!0,s)s.hasOwnProperty(n)&&(t&&e.hasOwnProperty(n)||!t)&&(e[n]=s[n]);return s=null,e},elsByClass:function(e,s){if((s=s||document).getElementsByClassName)return s.getElementsByClassName(e);if(s.querySelector)return s.querySelectorAll("."+e);for(var t=s.getElementsByTagName("*"),n=t.length,i=0,o=[];i<n;i++)this.hasClass(t[i],e)&&o.push(t[i]);return o},hasClass:function(e,s){if(e.classList)return e.classList.contains(s);var t=e.className.split(/\s+/);return-1!==this.indexOf(t,s)},indexOf:function(e,s){if(e.indexOf)return e.indexOf(s);for(var t=0,n=e.length;t<n;t++)if(e[t]===s)return t;return-1},addEvent:function(e,s,t,n){n=n||!1,window.addEventListener?e.addEventListener(s,t,n):window.attachEvent&&e.attachEvent("on"+s,t)},toggleClass:function(e,s){if(e.classList)e.classList.toggle(s);else{var t,n=e.className.split(/\s+/);-1!==(t=this.indexOf(n,s))?n.splice(t,1):n.push(s),e.className=n.join(" ")}},removeClass:function(e,s){if(e.classList)e.classList.remove(s);else{var t,n=e.className.split(/\s+/);-1!==(t=this.indexOf(n,s))&&n.splice(t,1),e.className=n.join(" ")}},addClass:function(e,s){if(e.classList)e.classList.add(s);else{var t=e.className.split(/\s+/);-1===this.indexOf(t,s)&&t.push(s),e.className=t.join(" ")}}},window.Tools={},function(){function e(s,e){var t,n=this,i={item:"nav-item",more:"nav-more",show:"nav-show",active:"nav-active"};if(utils.options(i,e),e=null,1!==s.nodeType&&!(s=document.getElementById(s)))throw"Error: nav is null";t=utils.elsByClass(i.item),n.nav=s,n.more=utils.elsByClass(i.more)[0],n.length=t.length,n.items=[],n.dropItems=[],utils.addEvent(n.more,"click",function(e){utils.toggleClass(s,i.show),"function"==typeof n.onClickMore&&n.onClickMore.call(this,e)});for(var o=0;o<n.length;o++)n.items[o]=t[o],utils.addEvent(t[o],"click",function(){for(var e=0;e<n.length;e++)utils.removeClass(t[e],i.active);utils.addClass(this,i.active)});n.update()}e.prototype={onClickMore:function(){},update:function(){for(var e,s=this,t=0,n=0,i=!1;n<s.length;n++)if(s.items[n].offsetWidth,0<s.items[n].offsetTop){s.nav.insertBefore(s.more,s.items[n]),utils.addClass(s.more,"nav-more-show"),i=!0;break}for(i||utils.removeClass(s.more,"nav-more-show"),function e(){0<s.more.offsetTop&&(s.nav.insertBefore(s.more,s.more.previousSibling),0<s.more.offsetTop&&t<s.length&&(e(),t++))}(),s.dropItems.splice(0,s.dropItems.length),e=s.more.nextSibling;e;)1===e.nodeType&&s.dropItems.push(e),e=e.nextSibling}},Tools.Rnav=e}();