!function(e){var t={};function n(l){if(t[l])return t[l].exports;var i=t[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:l})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}();var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t?Math.floor(e/3600):0,l=Math.floor((e-3600*n)/60),i=Math.floor(e-3600*n-60*l);return n=n<10?"0"+n:n,l=l<10?"0"+l:l,i=i<10?"0"+i:i,(t?n+":":"")+l+":"+i},r=function(e,t,n){window.addEventListener?e.addEventListener(t,n):window.attachEvent&&e.addEventListener("on"+t,n)},a=function(e,t){if(e.classList)e.classList.add(t);else{var n=e.className.split(/\s+/);-1===n.indexOf(t)&&n.push(t),e.className=n.join(" ")}},c=function(e,t){if(e.classList)e.classList.remove(t);else{var n,l=e.className.split(/\s+/);-1!==(n=l.indexOf(t))&&l.splice(n,1),e.className=l.join(" ")}},u=function(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||!1},o=function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},d=function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"object"===(void 0===t?"undefined":l(t))&&(t=(n=t).selector),"string"==typeof t&&("object"===(void 0===n?"undefined":l(n))&&(this.options=n),this.init(document.querySelector(t)))}return i(e,[{key:"init",value:function(e){this.currentTime=0,this.duration=0,this.volume=.5,this.createDom(),this.defineProps(),e.appendChild(this[0])}},{key:"createDom",value:function(){this[0]=document.createElement("div"),this[0].className="player",this[0].innerHTML='\n        <video data-name="video" class="player-video"></video>\n        <div data-name="lrc" class="player-lrc"></div>\n        <div data-name="ctrls" class="player-controls">\n            <div class="player-slider">\n                <div data-name="buf" class="player-slider-buf"></div>\n                <div data-name="thumb" class="player-slider-thumb"></div>\n            </div>\n            <div class="player-toolbar">\n                <div class="player-toolbar-left">\n                    <span data-name="btn" class="player-btn"></span>\n                    <span data-name="cur" class="player-current-time">--:--</span>\n                    <span data-name="dur" class="player-duration">/ --:--</span>\n                </div>\n                <div class="player-toolbar-right">\n                    <span data-name="vswitch" class="player-volume-switch">\n                        <i class="player-volume-switch-rect"></i>\n                        <i class="player-volume-switch-tri"></i>\n                        <i class="player-volume-switch-stat">\n                            <i class="player-volume-switch-dot1"></i>\n                            <i class="player-volume-switch-dot2"></i>\n                            <i class="player-volume-switch-dot3"></i>\n                            <i class="player-volume-switch-mute">&times;</i>\n                        </i>\n                    </span>\n                    <span class="player-volume-slider">\n                        <i data-name="vthumb" class="player-volume-slider-thumb"></i>\n                    </span>\n                    <span data-name="fscreen" class="player-fullscreen">\n                        <i class="player-fullscreen-tl"></i>\n                        <i class="player-fullscreen-tr"></i>\n                        <i class="player-fullscreen-bl"></i>\n                        <i class="player-fullscreen-br"></i>\n                    </span>\n                </div>\n            </div>\n        </div>',this.els={};for(var e=this[0].querySelectorAll("[data-name]"),t=e.length,n=0;n<t;n++)this.els[e[n].getAttribute("data-name")]=e[n],e[n].removeAttribute("data-name")}},{key:"defineProps",value:function(){var e=this,t=this.currentTime,n=this.volume;Object.defineProperty(this,"currentTime",{set:function(n){n!==t&&(t=n,e.els.cur.innerText=s(t),e.els.thumb.style.width=t/e.duration*100+"%")},get:function(){return t}}),Object.defineProperty(this,"volume",{set:function(t){t!==n&&(n=t,e.els.video.volume=n,e.els.vthumb.style.width=100*n+"%")},get:function(){return n}})}},{key:"bindEvent",value:function(){var e=this,t=e.els.video,n=e.els.btn;r(t,"durationchange",function(){e.duration=this.duration,e.els.dur.innerText="/ "+s(this.duration),e.showLrc(0)}),r(n,"click",function(){t.paused?(t.play(),a(n,"player-btn-playing")):(t.pause(),c(n,"player-btn-playing"))}),r(t,"timeupdate",function(){try{e.els.buf.style.width=t.buffered.end(t.buffered.length-1)/this.duration*100+"%"}catch(e){}e.currentTime=this.currentTime,e.showLrc(this.currentTime)}),r(e.els.thumb.parentNode,"click",function(n){if(t.duration>0){var l=n.offsetX/this.offsetWidth;e.currentTime=l*t.duration,t.currentTime=Math.round(l*t.duration)}}),r(e.els.vthumb.parentNode,"click",function(t){e.volume=t.offsetX/this.offsetWidth}),r(e.els.fscreen,"click",function(){u()?(o(),c(e.els.fscreen,"player-fullscreen-on")):(d(e[0]),a(e.els.fscreen,"player-fullscreen-on"))}),r(e.els.vswitch,"click",function(){(t.muted=!t.muted)?a(e[0],"player-muted"):c(e[0],"player-muted")})}},{key:"showLrc",value:function(e){}}]),e}();window.Player=f}]);